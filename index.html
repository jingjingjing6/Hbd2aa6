<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Ahmed!</title>
    <style>
        /* åŸºç¡€æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            background-color: #000;
            transition: background-color 0.5s;
        }
        
        /* é¡µé¢å®¹å™¨ - æ°´å¹³æ»‘åŠ¨å¸ƒå±€ */
        .pages-container {
            display: flex;
            width: 600vw;
            height: 100vh;
            transition: transform 0.8s ease;
            transform: translateX(0);
        }
        
        .page {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        /* ç¬¬ä¸€é¡µ - ç«–å±æ¨¡å¼ */
        #page1 {
            background-color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .hbd-text {
            font-size: 4rem;
            font-weight: bold;
            color: black;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .rotate-tip {
            font-size: 1.5rem;
            color: #666;
            opacity: 0;
            transition: opacity 1s;
        }
        
        /* ç®­å¤´æ ·å¼ - ç™½è‰²èƒŒæ™¯ä½¿ç”¨é»‘è‰²ç®­å¤´ */
        .nav-arrow {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%) rotate(90deg);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            transition: background-color 0.3s, transform 0.3s;
            opacity: 1;
        }
        
        .white-bg-arrow {
            background-color: rgba(0, 0, 0, 0.1);
        }
        
        .black-bg-arrow {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .nav-arrow:hover {
            transform: translateY(-50%) rotate(90deg) scale(1.1);
        }
        
        .arrow-icon {
            width: 30px;
            height: 30px;
            border-right: 3px solid #333;
            border-bottom: 3px solid #333;
            transform: rotate(45deg);
            margin-top: -5px;
        }
        
        .white-bg-arrow .arrow-icon {
            border-color: #333;
        }
        
        .black-bg-arrow .arrow-icon {
            border-color: #fff;
        }
        
        /* ç¬¬äºŒé¡µ - Loadingç‚¹é˜µ */
        #page2 {
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .loading-grid {
            width: 90%;
            height: 80%;
            position: relative;
            overflow: hidden;
        }
        
        .loading-dot {
            position: absolute;
            width: 25px;
            height: 25px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        /* ç¬¬ä¸‰é¡µ - å›¾ç‰‡å±•ç¤º */
        #page3 {
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .image2-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .image2 {
            max-width: 95%;
            max-height: 95%;
            transform: rotate(-90deg) scale(1.3);
            transform-origin: center center;
            opacity: 0;
            transition: opacity 1s;
        }
        
        .floating-avatar {
            position: absolute;
            width: 50px;
            height: 50px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0;
        }
        
        /* ç¬¬å››é¡µ - ç¥ç¦è¯­ */
        #page4 {
            background-color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 30px;
            position: relative;
        }
        
        .bubbles-container {
            width: 80%;
            max-width: 800px;
            margin-bottom: 20px;
            z-index: 10;
        }
        
        .bubble {
            background-color: #fff7d1;
            border-radius: 20px;
            padding: 15px 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s, transform 0.5s;
            max-width: 100%;
            word-wrap: break-word;
        }
        
        .bubble-text {
            font-size: 1.1rem;
            color: #333;
            line-height: 1.5;
            word-wrap: break-word;
            white-space: normal;
        }
        
        .bubble.typing::after {
            content: '|';
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .image3-container {
            position: absolute;
            left: 20px;
            bottom: 20px;
            width: 25%; /* æ”¾å¤§2å€åå¤§çº¦æ˜¯åŸæ¥çš„2å€ï¼Œ12.5%*2=25% */
            height: 25%;
            opacity: 0;
            transform: translateY(50px) scale(2);
            transform-origin: left bottom;
            transition: opacity 1s, transform 1s;
            z-index: 5;
        }
        
        .image3 {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .image4-container {
            position: absolute;
            right: -40%;
            top: 50%;
            transform: translateY(-50%) scale(1.5);
            transform-origin: center right;
            width: 33%;
            height: 60%;
            transition: right 1s ease;
            z-index: 5;
        }
        
        .image4 {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .image5-overlay {
            position: absolute;
            bottom: 5%;
            left: 5%;
            width: 33.33%;
            height: 33.33%;
            opacity: 0;
            transition: opacity 1s;
        }
        
        .image5 {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        /* ç¬¬äº”é¡µ - è¯„åˆ† */
        #page5 {
            background-color: black;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .xD-text {
            font-size: 6rem;
            font-weight: normal;
            margin-bottom: 20px;
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .rate-text {
            font-size: 1.8rem;
            margin-bottom: 30px;
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .stars-container {
            display: flex;
            gap: 15px;
            margin-bottom: 40px;
        }
        
        .star {
            font-size: 3.5rem;
            color: #ccc;
            cursor: pointer;
            transition: color 0.3s, transform 0.3s;
        }
        
        .star:hover {
            transform: scale(1.2);
        }
        
        .star.active {
            color: #ffcc00;
        }
        
        /* ç¬¬å…­é¡µ - æ„Ÿè°¢ */
        #page6 {
            background-color: black;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
        }
        
        .thanks-text {
            font-size: 2rem;
            line-height: 1.5;
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        /* é£˜è½emoji */
        .falling-emoji {
            position: absolute;
            font-size: 24px;
            opacity: 0.8;
            z-index: 1;
            pointer-events: none;
        }
        
        /* å“åº”å¼è°ƒæ•´ - æ‰‹æœºå±å¹• */
        @media (max-width: 768px) {
            .hbd-text {
                font-size: 3rem;
            }
            
            .rotate-tip {
                font-size: 1.2rem;
            }
            
            /* æ‰‹æœºä¸Šæ°”æ³¡ç¼©å°å¹¶è°ƒæ•´ä½ç½® */
            .bubbles-container {
                width: 55%; /* å‡å°å®½åº¦ï¼Œä¸ºimage4ç•™å‡ºç©ºé—´ */
                margin-right: 0;
                margin-left: 10px;
                max-width: none;
            }
            
            .bubble {
                padding: 10px 12px;
                margin-bottom: 10px;
                border-radius: 15px;
                max-width: 100%;
            }
            
            .bubble-text {
                font-size: 0.85rem;
                line-height: 1.4;
            }
            
            .xD-text {
                font-size: 4rem;
            }
            
            .loading-dot {
                width: 20px;
                height: 20px;
            }
            
            .image3-container {
                width: 30%;
                height: 30%;
                left: 10px;
                bottom: 10px;
            }
            
            /* æ‰‹æœºä¸Šimage4å®¹å™¨è°ƒæ•´ */
            .image4-container {
                width: 40%;
                height: 50%;
                right: -45%;
                top: 50%;
            }
            
            .nav-arrow {
                width: 50px;
                height: 50px;
                right: 15px;
            }
            
            .arrow-icon {
                width: 25px;
                height: 25px;
            }
        }
        
        /* å¹³æ¿è®¾å¤‡ä¸Šçš„è°ƒæ•´ */
        @media (min-width: 769px) and (max-width: 1024px) {
            .bubble {
                padding: 14px 18px;
            }
            
            .bubble-text {
                font-size: 1rem;
            }
            
            /* å¹³æ¿ä¸Šè°ƒæ•´æ°”æ³¡å®¹å™¨å®½åº¦ */
            .bubbles-container {
                width: 70%;
                margin-right: 30%;
            }
        }
        
        /* ç”µè„‘å±å¹•ä¸Šçš„è°ƒæ•´ */
        @media (min-width: 1025px) {
            /* ç”µè„‘ä¸Šéšè—æ—‹è½¬æç¤º */
            .rotate-tip {
                display: none;
            }
            
            /* ç”µè„‘ä¸Šè°ƒæ•´æ°”æ³¡æ ·å¼ */
            .bubbles-container {
                width: 60%;
                max-width: 600px;
                margin-right: 35%;
                margin-bottom: 20px;
            }
            
            .bubble {
                max-width: 90%;
                word-wrap: break-word;
            }
            
            /* è°ƒæ•´image2çš„å¤§å° */
            .image2 {
                transform: rotate(-90deg) scale(1.3);
                max-width: 90%;
                max-height: 90%;
            }
            
            /* è°ƒæ•´image4çš„ä½ç½®ï¼Œé¿å…è¢«æ°”æ³¡æŒ¡ä½ */
            .image4-container {
                width: 30%;
                right: -35%;
            }
        }
        
        /* æ¨ªå±å¼ºåˆ¶æ ·å¼ */
        @media (orientation: landscape) {
            #page1 {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="pages-container">
        <!-- ç¬¬1é¡µ - ç«–å±æ—‹è½¬æç¤º -->
        <section id="page1" class="page">
            <h1 class="hbd-text">HBDâ¤ï¸!!</h1>
            <p class="rotate-tip">(rotate your phone)</p>
            <div class="nav-arrow white-bg-arrow" id="arrow1">
                <div class="arrow-icon"></div>
            </div>
        </section>
        
        <!-- ç¬¬2é¡µ - Loadingç‚¹é˜µ -->
        <section id="page2" class="page">
            <div class="loading-grid" id="loadingGrid"></div>
            <div class="nav-arrow white-bg-arrow" id="arrow2">
                <div class="arrow-icon"></div>
            </div>
        </section>
        
        <!-- ç¬¬3é¡µ - å›¾ç‰‡å±•ç¤º -->
        <section id="page3" class="page">
            <div class="image2-container">
                <img class="image2" src="image2.png" alt="Birthday Image">
                <div class="floating-avatar" id="floatingAvatar"></div>
            </div>
            <div class="nav-arrow white-bg-arrow" id="arrow3">
                <div class="arrow-icon"></div>
            </div>
        </section>
        
        <!-- ç¬¬4é¡µ - ç¥ç¦è¯­ -->
        <section id="page4" class="page">
            <div class="bubbles-container" id="bubblesContainer"></div>
            
            <div class="image3-container">
                <img class="image3" src="image3.png" alt="Birthday Cake">
            </div>
            
            <div class="image4-container">
                <img class="image4" src="image4.png" alt="Birthday Surprise">
                <div class="image5-overlay">
                    <img class="image5" src="image5.png" alt="Special Overlay">
                </div>
            </div>
            
            <div class="nav-arrow white-bg-arrow" id="arrow4">
                <div class="arrow-icon"></div>
            </div>
        </section>
        
        <!-- ç¬¬5é¡µ - è¯„åˆ† -->
        <section id="page5" class="page">
            <h1 class="xD-text">xD</h1>
            <h2 class="rate-text"></h2>
            <div class="stars-container" id="starsContainer"></div>
            <div class="nav-arrow black-bg-arrow" id="arrow5">
                <div class="arrow-icon"></div>
            </div>
        </section>
        
        <!-- ç¬¬6é¡µ - æ„Ÿè°¢ -->
        <section id="page6" class="page">
            <div class="thanks-text">
                thanks for your the 5 star<br>
                (knew you would do this xD LOVE YOU LOOOOTS
            </div>
        </section>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentPage = 0;
        const totalPages = 6;
        const pagesContainer = document.querySelector('.pages-container');
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        const isDesktop = window.innerWidth > 1024;
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–ç¬¬ä¸€é¡µ - ç®­å¤´ç«‹å³å‡ºç°
            initPage1();
            
            // ç»‘å®šç®­å¤´ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.nav-arrow').forEach(arrow => {
                arrow.addEventListener('click', nextPage);
            });
            
            // åˆå§‹åŒ–æ˜Ÿæ˜Ÿè¯„åˆ†
            initStars();
            
            // è°ƒæ•´æ°”æ³¡å®½åº¦ï¼ˆä»…ç”µè„‘ï¼‰
            if (isDesktop) {
                adjustBubbleWidthsForDesktop();
            }
        });
        
        // è°ƒæ•´ç”µè„‘ä¸Šæ°”æ³¡çš„å®½åº¦
        function adjustBubbleWidthsForDesktop() {
            window.isDesktopMode = true;
        }
        
        // åˆå§‹åŒ–ç¬¬ä¸€é¡µ
        function initPage1() {
            // æ˜¾ç¤ºæ—‹è½¬æç¤ºï¼ˆå¦‚æœæ˜¯æ‰‹æœºï¼‰
            setTimeout(() => {
                const rotateTip = document.querySelector('.rotate-tip');
                if (isMobile) {
                    rotateTip.style.opacity = '1';
                } else {
                    rotateTip.style.display = 'none';
                }
            }, 2000);
        }
        
        // ä¸‹ä¸€é¡µå‡½æ•°
        function nextPage() {
            if (currentPage < totalPages - 1) {
                currentPage++;
                pagesContainer.style.transform = `translateX(-${currentPage * 100}vw)`;
                
                // è§¦å‘å½“å‰é¡µé¢çš„åŠ¨ç”»
                switch(currentPage) {
                    case 1: // ç¬¬äºŒé¡µ
                        initLoadingPage();
                        break;
                    case 2: // ç¬¬ä¸‰é¡µ
                        initPage3();
                        break;
                    case 3: // ç¬¬å››é¡µ
                        initPage4();
                        break;
                    case 4: // ç¬¬äº”é¡µ
                        initPage5();
                        break;
                }
            }
        }
        
        // åˆå§‹åŒ–ç¬¬äºŒé¡µ - Loadingç‚¹é˜µï¼ˆåªç”Ÿæˆä¸€éï¼‰
        function initLoadingPage() {
            const loadingGrid = document.getElementById('loadingGrid');
            loadingGrid.innerHTML = '';
            
            // å®šä¹‰"LOADING..."çš„ç‚¹é˜µä½ç½®ï¼ˆåªåœ¨å±å¹•ä¸­å¤®ç”Ÿæˆä¸€éï¼‰
            const loadingPattern = [
                // L
                {x: 10, y: 35}, {x: 10, y: 40}, {x: 10, y: 45}, {x: 10, y: 50}, {x: 10, y: 55}, {x: 10, y: 60}, 
                {x: 12, y: 60}, {x: 14, y: 60}, {x: 16, y: 60}, {x: 18, y: 60},
                
                // O
                {x: 23, y: 35}, {x: 23, y: 40}, {x: 23, y: 45}, {x: 23, y: 50}, {x: 23, y: 55}, {x: 23, y: 60},
                {x: 25, y: 35}, {x: 27, y: 35}, {x: 29, y: 35},
                {x: 25, y: 60}, {x: 27, y: 60}, {x: 29, y: 60},
                {x: 29, y: 40}, {x: 29, y: 45}, {x: 29, y: 50}, {x: 29, y: 55},
                
                // A
                {x: 35, y: 60}, {x: 37, y: 35}, {x: 39, y: 35}, {x: 41, y: 35}, {x: 43, y: 60},
                {x: 37, y: 47}, {x: 39, y: 47}, {x: 41, y: 47},
                
                // D
                {x: 48, y: 35}, {x: 48, y: 40}, {x: 48, y: 45}, {x: 48, y: 50}, {x: 48, y: 55}, {x: 48, y: 60},
                {x: 50, y: 35}, {x: 52, y: 35}, {x: 54, y: 35},
                {x: 50, y: 60}, {x: 52, y: 60}, {x: 54, y: 60},
                {x: 54, y: 40}, {x: 54, y: 45}, {x: 54, y: 50}, {x: 54, y: 55},
                
                // I
                {x: 60, y: 35}, {x: 60, y: 40}, {x: 60, y: 45}, {x: 60, y: 50}, {x: 60, y: 55}, {x: 60, y: 60},
                
                // N
                {x: 65, y: 60}, {x: 65, y: 55}, {x: 65, y: 50}, {x: 65, y: 45}, {x: 65, y: 40}, {x: 65, y: 35},
                {x: 67, y: 40}, {x: 69, y: 45}, {x: 71, y: 50},
                {x: 73, y: 60}, {x: 73, y: 55}, {x: 73, y: 50}, {x: 73, y: 45}, {x: 73, y: 40}, {x: 73, y: 35},
                
                // G
                {x: 78, y: 35}, {x: 78, y: 40}, {x: 78, y: 45}, {x: 78, y: 50}, {x: 78, y: 55}, {x: 78, y: 60},
                {x: 80, y: 35}, {x: 82, y: 35}, {x: 84, y: 35},
                {x: 80, y: 60}, {x: 82, y: 60}, {x: 84, y: 60},
                {x: 84, y: 50}, {x: 84, y: 55}, {x: 82, y: 50},
                
                // ...
                {x: 90, y: 47}, {x: 93, y: 47}, {x: 96, y: 47},
            ];
            
            // åˆ›å»ºç‚¹é˜µ
            let delay = 0;
            loadingPattern.forEach((point, index) => {
                const dot = document.createElement('div');
                dot.className = 'loading-dot';
                dot.style.backgroundImage = 'url("image1.png")';
                
                dot.style.left = `${point.x}%`;
                dot.style.top = `${point.y}%`;
                
                // æ·»åŠ éšæœºåç§»ï¼Œä½¿ç‚¹é˜µæ›´è‡ªç„¶
                const randomOffset = Math.random() * 3 - 1.5;
                dot.style.left = `calc(${point.x}% + ${randomOffset}px)`;
                dot.style.top = `calc(${point.y}% + ${randomOffset}px)`;
                
                loadingGrid.appendChild(dot);
                
                // å»¶è¿Ÿæ˜¾ç¤ºæ¯ä¸ªç‚¹
                setTimeout(() => {
                    dot.style.opacity = '1';
                }, delay);
                
                delay += 15; // æ¯ä¸ªç‚¹ä¹‹é—´çš„å»¶è¿Ÿ
            });
            
            // ç‚¹é˜µå®Œæˆåï¼Œåœ¨ç¬¬äºŒé¡µæ·»åŠ é£˜è½emoji
            setTimeout(() => {
                createFallingEmojis(document.getElementById('page2'));
            }, delay + 500);
        }
        
        // åˆå§‹åŒ–ç¬¬ä¸‰é¡µ
        function initPage3() {
            // æ˜¾ç¤ºimage2 - æ”¾å¤§1.3å€
            const image2 = document.querySelector('.image2');
            setTimeout(() => {
                image2.style.opacity = '1';
            }, 300);
            
            // åˆ›å»ºimage1ä»å±å¹•å·¦ä¸‹åˆ°å³ä¸Šçš„åŠ¨ç”»
            const floatingAvatar = document.getElementById('floatingAvatar');
            floatingAvatar.style.backgroundImage = 'url("image1.png")';
            
            setTimeout(() => {
                floatingAvatar.style.opacity = '1';
                floatingAvatar.style.transform = 'translate(0, 0)';
                
                // è®¾ç½®åŠ¨ç”»è·¯å¾„
                floatingAvatar.animate([
                    { 
                        transform: 'translate(-100vw, 100vh) scale(0.5)',
                        opacity: 0 
                    },
                    { 
                        transform: 'translate(0, 0) scale(1)',
                        opacity: 1 
                    }
                ], {
                    duration: 2000,
                    easing: 'ease-out',
                    fill: 'forwards'
                });
            }, 500);
        }
        
        // åˆå§‹åŒ–ç¬¬å››é¡µ
        function initPage4() {
            // æ˜¾ç¤ºimage3ï¼ˆä»å·¦ä¸‹è§’å‡ºç°ï¼Œæ”¾å¤§2å€ï¼‰
            const image3Container = document.querySelector('.image3-container');
            setTimeout(() => {
                image3Container.style.opacity = '1';
                image3Container.style.transform = 'translateY(0) scale(2)';
            }, 500);
            
            // æ˜¾ç¤ºimage4ï¼ˆä»å³å‘å·¦æ»‘å…¥ï¼Œæ”¾å¤§1.5å€ï¼‰
            const image4Container = document.querySelector('.image4-container');
            setTimeout(() => {
                image4Container.style.right = '20px';
                
                // åœ¨æ‰‹æœºä¸Šè¿›ä¸€æ­¥è°ƒæ•´image4çš„ä½ç½®ï¼Œç¡®ä¿ä¸è¢«æ°”æ³¡é®æŒ¡
                if (isMobile) {
                    image4Container.style.right = '15px';
                }
            }, 1000);
            
            // æ˜¾ç¤ºimage5ï¼ˆæ”¾åœ¨image4çš„å·¦ä¸‹è§’ï¼‰
            const image5Overlay = document.querySelector('.image5-overlay');
            setTimeout(() => {
                image5Overlay.style.opacity = '1';
            }, 2000);
            
            // åˆ›å»ºé£˜è½emojiï¼ˆä»å·¦ä¸Šè§’é£˜åˆ°å³ä¸‹è§’ï¼‰
            createDiagonalEmojis(document.getElementById('page4'));
            
            // åˆ›å»ºæ°”æ³¡æ–‡å­—ï¼ˆæ‰“å­—æ•ˆæœï¼‰
            createBubblesWithTyping();
        }
        
        // åˆ›å»ºå¯¹è§’çº¿é£˜è½emoji
        function createDiagonalEmojis(container) {
            const emojis = ['ğŸ‚', 'ğŸ§', 'â­', 'ğŸ’›'];
            
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const emoji = document.createElement('div');
                    emoji.className = 'falling-emoji';
                    emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                    emoji.style.fontSize = `${20 + Math.random() * 20}px`;
                    emoji.style.left = `${Math.random() * 20}%`; // ä»å·¦ä¾§å¼€å§‹
                    emoji.style.top = `${Math.random() * 20}%`; // ä»é¡¶éƒ¨å¼€å§‹
                    
                    container.appendChild(emoji);
                    
                    // å¯¹è§’çº¿åŠ¨ç”»
                    emoji.animate([
                        { 
                            transform: 'translate(0, 0) rotate(0deg)',
                            opacity: 1 
                        },
                        { 
                            transform: `translate(${60 + Math.random() * 30}vw, ${60 + Math.random() * 30}vh) rotate(${360 + Math.random() * 360}deg)`,
                            opacity: 0 
                        }
                    ], {
                        duration: 3000 + Math.random() * 4000,
                        easing: 'linear'
                    });
                    
                    // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                    setTimeout(() => {
                        if (emoji.parentNode) {
                            emoji.parentNode.removeChild(emoji);
                        }
                    }, 7000);
                }, i * 300);
            }
        }
        
        // åˆ›å»ºæ°”æ³¡æ–‡å­—ï¼ˆæ‰“å­—æ•ˆæœï¼‰
        function createBubblesWithTyping() {
            const messages = [
                "Heyyy Ahmed, happy birthday to you!ğŸ¥³",
                "If I could give you something today, it would be a quiet moment where nothing hurts and presses you",
                "I see how much you're carrying, and I respect you for that!",
                "I hope this year brings you more ease so that you can breathe. ğŸ«‚",
                "Remember! You can always be yourself with me! Lots of love!ğŸ¥°"
            ];
            
            const bubblesContainer = document.getElementById('bubblesContainer');
            
            let delay = 500;
            messages.forEach((message, index) => {
                setTimeout(() => {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble typing';
                    
                    const text = document.createElement('div');
                    text.className = 'bubble-text';
                    bubble.appendChild(text);
                    
                    bubblesContainer.appendChild(bubble);
                    
                    // å¦‚æœæ˜¯ç”µè„‘ï¼Œè®¾ç½®æ‰€æœ‰æ°”æ³¡å®½åº¦ä¸€è‡´
                    if (window.isDesktopMode && index === 0) {
                        // ç¬¬ä¸€æ¡æ¶ˆæ¯å®Œæˆåï¼Œè·å–å…¶å®½åº¦å¹¶åº”ç”¨åˆ°æ‰€æœ‰æ°”æ³¡
                        setTimeout(() => {
                            const firstBubble = bubblesContainer.querySelector('.bubble');
                            if (firstBubble) {
                                const bubbleWidth = firstBubble.offsetWidth;
                                
                                // è®¾ç½®æ‰€æœ‰æ°”æ³¡çš„å®½åº¦
                                const allBubbles = bubblesContainer.querySelectorAll('.bubble');
                                allBubbles.forEach(b => {
                                    b.style.width = `${bubbleWidth}px`;
                                    b.style.maxWidth = `${bubbleWidth}px`;
                                });
                            }
                        }, 3500); // ç­‰å¾…ç¬¬ä¸€æ¡æ¶ˆæ¯æ‰“å­—å®Œæˆ
                    }
                    
                    // æ˜¾ç¤ºæ°”æ³¡
                    setTimeout(() => {
                        bubble.style.opacity = '1';
                        bubble.style.transform = 'translateY(0)';
                        
                        // æ‰“å­—æ•ˆæœ
                        let charIndex = 0;
                        const typingInterval = setInterval(() => {
                            if (charIndex < message.length) {
                                text.textContent += message.charAt(charIndex);
                                charIndex++;
                            } else {
                                clearInterval(typingInterval);
                                bubble.classList.remove('typing');
                            }
                        }, 30);
                    }, 100);
                }, delay);
                
                delay += 3500; // æ¯ä¸ªæ¶ˆæ¯ä¹‹é—´çš„å»¶è¿Ÿ
            });
        }
        
        // åˆå§‹åŒ–ç¬¬äº”é¡µ
        function initPage5() {
            // æ˜¾ç¤º"xD"æ–‡æœ¬
            const xdText = document.querySelector('.xD-text');
            setTimeout(() => {
                xdText.style.opacity = '1';
            }, 300);
            
            // 3ç§’åæ˜¾ç¤º"please rate"æ–‡æœ¬
            setTimeout(() => {
                const rateText = document.querySelector('.rate-text');
                rateText.textContent = 'please rate';
                rateText.style.opacity = '1';
            }, 3000);
            
            // æ·»åŠ é£˜è½emoji
            createFallingEmojis(document.getElementById('page5'));
        }
        
        // åˆå§‹åŒ–æ˜Ÿæ˜Ÿè¯„åˆ†
        function initStars() {
            const starsContainer = document.getElementById('starsContainer');
            if (!starsContainer) return;
            
            // åˆ›å»º5ä¸ªæ˜Ÿæ˜Ÿ
            for (let i = 1; i <= 5; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.textContent = 'â˜†';
                star.dataset.value = i;
                
                star.addEventListener('click', function() {
                    const value = parseInt(this.dataset.value);
                    
                    // æ›´æ–°æ‰€æœ‰æ˜Ÿæ˜ŸçŠ¶æ€
                    document.querySelectorAll('.star').forEach((s, index) => {
                        if (index < value) {
                            s.textContent = 'â­';
                            s.classList.add('active');
                        } else {
                            s.textContent = 'â˜†';
                            s.classList.remove('active');
                        }
                    });
                    
                    // å¦‚æœç‚¹å‡»äº†ç¬¬äº”ä¸ªæ˜Ÿï¼Œè‡ªåŠ¨è·³è½¬åˆ°æ„Ÿè°¢é¡µé¢
                    if (value === 5) {
                        setTimeout(() => {
                            currentPage++;
                            pagesContainer.style.transform = `translateX(-${currentPage * 100}vw)`;
                            
                            // æ˜¾ç¤ºæ„Ÿè°¢æ–‡æœ¬
                            setTimeout(() => {
                                document.querySelector('.thanks-text').style.opacity = '1';
                                
                                // åœ¨æ„Ÿè°¢é¡µé¢æ·»åŠ é£˜è½emoji
                                createFallingEmojis(document.getElementById('page6'));
                            }, 300);
                        }, 800);
                    }
                });
                
                starsContainer.appendChild(star);
            }
        }
        
        // åˆ›å»ºé£˜è½emojiï¼ˆå‚ç›´ä¸‹è½ï¼‰
        function createFallingEmojis(container) {
            const emojis = ['ğŸ‚', 'ğŸ§', 'â­', 'ğŸ’›'];
            
            // åˆ›å»º8ä¸ªemoji
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const emoji = document.createElement('div');
                    emoji.className = 'falling-emoji';
                    emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                    emoji.style.fontSize = `${20 + Math.random() * 20}px`;
                    emoji.style.left = `${Math.random() * 100}%`;
                    emoji.style.top = `-50px`;
                    
                    container.appendChild(emoji);
                    
                    // ä¸‹è½åŠ¨ç”»
                    emoji.animate([
                        { 
                            transform: 'translateY(0) rotate(0deg)',
                            opacity: 0.8 
                        },
                        { 
                            transform: `translateY(${window.innerHeight + 100}px) rotate(${360 + Math.random() * 360}deg)`,
                            opacity: 0 
                        }
                    ], {
                        duration: 3000 + Math.random() * 4000,
                        easing: 'linear'
                    });
                    
                    // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                    setTimeout(() => {
                        if (emoji.parentNode) {
                            emoji.parentNode.removeChild(emoji);
                        }
                    }, 7000);
                }, i * 500);
            }
        }
        
        // æ·»åŠ é”®ç›˜å¯¼èˆªæ”¯æŒ
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                nextPage();
            } else if (e.key === 'ArrowLeft' && currentPage > 0) {
                currentPage--;
                pagesContainer.style.transform = `translateX(-${currentPage * 100}vw)`;
            }
        });
    </script>
</body>
</html>